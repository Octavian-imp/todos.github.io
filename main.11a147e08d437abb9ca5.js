(()=>{"use strict";var e,t={5587:(e,t,a)=>{var n=a(3696),r=a(7470),s=a(5022),o=a(3530),c=a(910);const l=(0,o.Z0)({name:"options",initialState:{activeFilter:"all"},reducers:{setFilter:(e,t)=>{e.activeFilter=t.payload}}}),{setFilter:i}=l.actions,u=l.reducer,m=[{status:"active",createdAt:new Date(2024,1,1,1,1,1).getTime(),content:"Test task",currentDuration:0,duration:6e4},{status:"active",createdAt:new Date(2024,1,1,1,1,1).getTime(),content:"Test task",duration:6e3,currentDuration:0},{status:"completed",createdAt:new Date(2024,1,1,1,1,1).getTime(),content:"Test task",duration:6e5,currentDuration:0},{status:"completed",createdAt:new Date(2024,1,1,1,1,1).getTime(),content:"Test task",duration:6e5,currentDuration:0},{status:"completed",createdAt:new Date(2024,1,1,1,1,1).getTime(),content:"Test task",duration:6e5,currentDuration:0},{status:"completed",createdAt:new Date(2024,1,1,1,1,1).getTime(),content:"Test task",duration:6e5,currentDuration:0}].map((e=>({...e,id:(1e3*Math.random()).toString(36)}))),d=(0,o.Z0)({name:"tasks",initialState:m,reducers:{add:(e,t)=>[t.payload,...e],addTime:(e,t)=>e.map((e=>e.id===t.payload?{...e,currentDuration:e.currentDuration+1e3,status:e.duration===e.currentDuration?"completed":"active"}:e)),stop:(e,t)=>e.map((e=>e.id===t.payload.id?{...e,currentDuration:t.payload.currentTime}:e)),remove:(e,t)=>e.filter((e=>e.id!==t.payload)),editValue:(e,t)=>e.map((e=>e.id===t.payload.id?{...e,content:t.payload.value}:e)),setIntervalRef:(e,t)=>e.map((e=>e.id===t.payload.id?{...e,intervalRef:t.payload.intervalRef}:e)),setTime:(e,t)=>e.map((e=>e.id===t.payload.id?{...e,currentDuration:t.payload.currentTime}:e)),clearCompleted:e=>e.filter((e=>"completed"!==e.status)),changeStatus:(e,t)=>e.map((e=>e.id===t.payload.id?{...e,status:t.payload.status}:e))}}),{add:_,addTime:p,editValue:f,stop:v,remove:T,setIntervalRef:k,setTime:E,clearCompleted:g,changeStatus:y}=d.actions,h=d.reducer,b=(0,o.U1)({reducer:{tasks:h,options:u}}),N=s.wA.withTypes(),D=s.d4.withTypes(),w=c.Mz.withTypes();var A=a(9369);const C=["all","active","completed"].map((e=>({name:e,id:(1e3*Math.random()).toString(36)}))),S="TasksFilter__filters___A32Pc",R="TasksFilter__selected___G38II",F=()=>{const e=N(),t=D((e=>e.options.activeFilter)),[a,r]=(0,n.useState)(t);function s(t,a,n){t.target instanceof HTMLElement&&(t.target.classList.add(R),r(a),function(t){e(i(t))}(n))}return n.createElement("ul",{className:S},C.map((e=>n.createElement("li",{key:e.id},n.createElement("button",{onClick:t=>s(t,e.name,e.name),className:(0,A.A)({[R]:e.name===a})},e.name)))))},O="Footer__footer___fuYeo",I="Footer__todo-count___NYgnr",L="Footer__clear-completed___s85HR",x=()=>{const e=N(),t=D((e=>e.tasks.reduce(((e,t)=>e+("active"===t.status?1:0)),0)));return n.createElement("footer",{className:O},n.createElement("span",{className:I},t," items left"),n.createElement(F,null),n.createElement("button",{className:L,onClick:()=>e(g())},"Clear completed"))},M="NewTaskForm__header___bu0zn",j="NewTaskForm__title___BYYcu",P="NewTaskForm__new-todo___SrpAm",H="NewTaskForm__duration___Z4WnZ",K=()=>{const e=N(),[t,a]=(0,n.useState)(""),[r,s]=(0,n.useState)(0),[o,c]=(0,n.useState)(0),l=n.useRef(null),i=n.useRef(null),u=n.useRef(null);return n.createElement("header",{className:M,onKeyDown:function(n){if("Enter"===n.key&&(n.target===l.current||n.target===i.current||n.target===u.current)){const n=1e3*(60*r+o);e(_({id:(1e3*Math.random()).toString(36),createdAt:(new Date).getTime(),status:"active",content:t,duration:n,currentDuration:0})),a(""),s(0),c(0)}}},n.createElement("h1",{className:j},"todo"),n.createElement("input",{className:P,placeholder:"What needs to be done?",autoFocus:!0,onKeyDown:function(e){if(("number"==typeof r||"number"==typeof o)&&e.target instanceof HTMLInputElement){const{value:t}=e.target;if(0===t.trim().length&&(0===r||0===o))return void e.stopPropagation()}},value:t,ref:l,onChange:e=>a(e.target.value)}),n.createElement("input",{className:H,placeholder:"min",type:"number",ref:i,value:r,min:0,onChange:e=>s(Number(e.target.value))}),n.createElement("input",{className:H,placeholder:"sec",type:"number",ref:u,value:o,min:0,onChange:e=>c(Number(e.target.value))}))};function Y(e){let{elementRef:t,enabled:a=!0,triggerRef:r,onOutsideClick:s}=e;const o=function(e){const t=(0,n.useRef)(e);(0,n.useLayoutEffect)((()=>{t.current=e}),[]);const a=(0,n.useCallback)((function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.current.apply(null,a)}),[t]);return a}(s);(0,n.useEffect)((()=>{if(!a)return;const e=e=>{const{target:a}=e;if(!(e.target instanceof Node))return;if(!t.current)return;const n=[t.current];r?.current&&n.push(r.current),n.some((e=>e.contains(a)))||o(e)};return document.addEventListener("touchstart",e),document.addEventListener("mousedown",e),()=>{document.addEventListener("touchstart",e),document.addEventListener("mousedown",e)}}),[t,r,a,o])}const Z="Task__editing___mAlAU",U="Task__edit___xhduD",B="Task__view___ymlPN",W="Task__toggle___pCWte",q="Task__label___knMkC",z="Task__description___xt4kB",V="Task__completed___UILeT",G="Task__actions___tp6H5",J="Task__icon___ImxAI",Q="Task__icon-destroy___q8855",X="Task__icon-edit___e3Zgy",$="Task__icon-start___OASfu",ee="Task__icon-stop___U92ld",te="Task__duration____RwYS";var ae=a(9362);const ne=e=>{let{status:t,duration:a,id:r,intervalRef:s,currentTime:o,title:c}=e;const l=N(),[i,u]=(0,n.useState)(!1),[m,d]=(0,n.useState)(c),[_,v]=(0,n.useState)(!!s),E=(0,n.useRef)();function g(){l(y({id:r,status:"active"===t?"completed":"active"}))}function h(){v(!1),void 0===E.current?clearInterval(s):clearInterval(E.current),l(k({id:r,intervalRef:void 0}))}(0,n.useEffect)((()=>{a===o&&(g(),h())}),[o]);const b=(0,n.useRef)(null);return Y({elementRef:b,enabled:i,onOutsideClick:()=>u(!1)}),n.createElement("li",{className:(0,A.A)({[Z]:i},{[V]:"completed"===t})},n.createElement("div",{className:B},n.createElement("input",{className:W,type:"checkbox",checked:"completed"===t,onChange:g}),n.createElement("label",{className:q},n.createElement("span",{className:z},c)),n.createElement("div",{className:G},_?n.createElement(ne.activeTimer,{currentTime:o,onStop:h}):n.createElement(ne.disabledTimer,{status:t,setIsEdit:u,onStart:function(){v(!0),E.current=setInterval((()=>{l(p(r))}),1e3),l(k({id:r,intervalRef:E.current}))},onDestroy:function(){l(T(r))},duration:a,currentTime:o}))),i&&n.createElement("input",{type:"text",className:U,value:m,onChange:e=>d(e.target.value),onKeyDown:e=>"Enter"===e.key&&(u(!1),void l(f({id:r,value:b.current?.value.trim()||""}))),ref:b}))};ne.disabledTimer=e=>{let{status:t,setIsEdit:a,onStart:r,onDestroy:s,duration:o,currentTime:c}=e;return n.createElement(n.Fragment,null,n.createElement("span",{className:te},c>0?(0,ae.AD)(c,"mm:ss"):(0,ae.AD)(o,"mm:ss")),"active"===t?n.createElement("button",{type:"button",className:$,onClick:r}):null,n.createElement("button",{className:(0,A.A)(J,X),onClick:()=>a((e=>!e))}),n.createElement("button",{className:(0,A.A)(J,Q),onClick:s}))},ne.activeTimer=function(e){let{currentTime:t,onStop:a}=e;return n.createElement(n.Fragment,null,n.createElement("span",{className:te},(0,ae.AD)(t,"mm:ss")),n.createElement("button",{onClick:a,className:ee}))};const re=ne,se="TaskList__todo-list___oRKAk";function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},oe.apply(null,arguments)}const ce=w((e=>e.options.activeFilter),(e=>e.tasks),((e,t)=>t.filter((t=>"all"===e||t.status===e)))),le=()=>{const e=D((e=>ce(e)));return n.createElement("ul",{className:se},e.map((e=>n.createElement(re,oe({key:e.id,currentTime:e.currentDuration,title:e.content},e)))))},ie=()=>n.createElement(s.Kq,{store:b},n.createElement("section",{className:"todoapp"},n.createElement(K,null),n.createElement("section",{className:"main"},n.createElement(le,null),n.createElement(x,null))));(0,r.H)(document.getElementById("root")).render(n.createElement(ie,null))}},a={};function n(e){var r=a[e];if(void 0!==r)return r.exports;var s=a[e]={exports:{}};return t[e](s,s.exports,n),s.exports}n.m=t,e=[],n.O=(t,a,r,s)=>{if(!a){var o=1/0;for(u=0;u<e.length;u++){a=e[u][0],r=e[u][1],s=e[u][2];for(var c=!0,l=0;l<a.length;l++)(!1&s||o>=s)&&Object.keys(n.O).every((e=>n.O[e](a[l])))?a.splice(l--,1):(c=!1,s<o&&(o=s));if(c){e.splice(u--,1);var i=r();void 0!==i&&(t=i)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[a,r,s]},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={792:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var r,s,o=a[0],c=a[1],l=a[2],i=0;if(o.some((t=>0!==e[t]))){for(r in c)n.o(c,r)&&(n.m[r]=c[r]);if(l)var u=l(n)}for(t&&t(a);i<o.length;i++)s=o[i],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(u)},a=self.webpackChunk=self.webpackChunk||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),n.O(void 0,[867],(()=>n(1001)));var r=n.O(void 0,[867],(()=>n(5587)));r=n.O(r)})();