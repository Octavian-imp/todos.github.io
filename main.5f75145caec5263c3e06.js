(()=>{"use strict";var e,t={5587:(e,t,a)=>{var n=a(3696),r=a(7470),s=a(5022),o=a(3530),c=a(910);const i=(0,o.Z0)({name:"options",initialState:{activeFilter:"all"},reducers:{setFilter:(e,t)=>{e.activeFilter=t.payload}}}),{setFilter:l}=i.actions,u=i.reducer,m=[{status:"active",createdAt:new Date(2024,1,1,1,1,1).getTime(),content:"Test task",currentDuration:0,durationMin:1},{status:"active",createdAt:new Date(2024,1,1,1,1,1).getTime(),content:"Test task",durationMin:.1,currentDuration:0},{status:"completed",createdAt:new Date(2024,1,1,1,1,1).getTime(),content:"Test task",durationMin:10,currentDuration:0},{status:"completed",createdAt:new Date(2024,1,1,1,1,1).getTime(),content:"Test task",durationMin:10,currentDuration:0},{status:"completed",createdAt:new Date(2024,1,1,1,1,1).getTime(),content:"Test task",durationMin:10,currentDuration:0},{status:"completed",createdAt:new Date(2024,1,1,1,1,1).getTime(),content:"Test task",durationMin:10,currentDuration:0}].map((e=>({...e,id:(1e3*Math.random()).toString(36)}))),d=(0,o.Z0)({name:"tasks",initialState:m,reducers:{add:(e,t)=>[...e,t.payload],addTime:(e,t)=>e.map((e=>e.id===t.payload?{...e,currentDuration:e.currentDuration+1}:e)),stop:(e,t)=>e.map((e=>e.id===t.payload.id?{...e,currentDuration:t.payload.currentTime}:e)),remove:(e,t)=>e.filter((e=>e.id!==t.payload)),editValue:(e,t)=>e.map((e=>e.id===t.payload.id?{...e,content:t.payload.value}:e)),setIntervalRef:(e,t)=>e.map((e=>e.id===t.payload.id?{...e,intervalRef:t.payload.intervalRef}:e)),setTime:(e,t)=>e.map((e=>e.id===t.payload.id?{...e,currentDuration:t.payload.currentTime}:e)),clearCompleted:e=>e.filter((e=>"completed"!==e.status)),changeStatus:(e,t)=>e.map((e=>e.id===t.payload.id?{...e,status:t.payload.status}:e))}}),{add:_,addTime:p,editValue:v,stop:f,remove:T,setIntervalRef:k,setTime:E,clearCompleted:g,changeStatus:y}=d.actions,h=d.reducer,N=(0,o.U1)({reducer:{tasks:h,options:u}}),b=s.wA.withTypes(),w=s.d4.withTypes(),D=c.Mz.withTypes();var A=a(9369);const C=["all","active","completed"].map((e=>({name:e,id:(1e3*Math.random()).toString(36)}))),S="TasksFilter__filters___A32Pc",F="TasksFilter__selected___G38II",O=()=>{const e=b(),t=w((e=>e.options.activeFilter)),[a,r]=(0,n.useState)(t);function s(t,a,n){t.target instanceof HTMLElement&&(t.target.classList.add(F),r(a),function(t){e(l(t))}(n))}return n.createElement("ul",{className:S},C.map((e=>n.createElement("li",{key:e.id},n.createElement("button",{onClick:t=>s(t,e.name,e.name),className:(0,A.A)({[F]:e.name===a})},e.name)))))},M="Footer__footer___fuYeo",R="Footer__todo-count___NYgnr",I="Footer__clear-completed___s85HR",L=()=>{const e=b(),t=w((e=>e.tasks.reduce(((e,t)=>e+("active"===t.status?1:0)),0)));return n.createElement("footer",{className:M},n.createElement("span",{className:R},t," items left"),n.createElement(O,null),n.createElement("button",{className:I,onClick:()=>e(g())},"Clear completed"))},x="NewTaskForm__header___bu0zn",j="NewTaskForm__title___BYYcu",H="NewTaskForm__new-todo___SrpAm",P="NewTaskForm__duration___Z4WnZ",Y=()=>{const e=b(),[t,a]=(0,n.useState)(""),[r,s]=(0,n.useState)();return n.createElement("header",{className:x},n.createElement("h1",{className:j},"todo"),n.createElement("input",{className:H,placeholder:"What needs to be done?",autoFocus:!0,onKeyDown:function(t){if("number"==typeof r&&t.target instanceof HTMLInputElement){const{value:n}=t.target;"Enter"===t.key&&(e(_({id:(1e3*Math.random()).toString(36),createdAt:(new Date).getTime(),status:"active",content:n,durationMin:r,currentDuration:0})),a(""))}},value:t,onChange:e=>a(e.target.value)}),n.createElement("input",{className:P,placeholder:"Duration in minutes",type:"number",value:r,onChange:e=>s(Number(e.target.value))}))};function Z(e){let{elementRef:t,enabled:a=!0,triggerRef:r,onOutsideClick:s}=e;const o=function(e){const t=(0,n.useRef)(e);(0,n.useLayoutEffect)((()=>{t.current=e}),[]);const a=(0,n.useCallback)((function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.current.apply(null,a)}),[t]);return a}(s);(0,n.useEffect)((()=>{if(!a)return;const e=e=>{const{target:a}=e;if(!(e.target instanceof Node))return;if(!t.current)return;const n=[t.current];r?.current&&n.push(r.current),n.some((e=>e.contains(a)))||o(e)};return document.addEventListener("touchstart",e),document.addEventListener("mousedown",e),()=>{document.addEventListener("touchstart",e),document.addEventListener("mousedown",e)}}),[t,r,a,o])}const U="Task__editing___mAlAU",B="Task__edit___xhduD",K="Task__view___ymlPN",W="Task__toggle___pCWte",q="Task__label___knMkC",z="Task__description___xt4kB",V="Task__completed___UILeT",G="Task__actions___tp6H5",J="Task__icon___ImxAI",Q="Task__icon-destroy___q8855",X="Task__icon-edit___e3Zgy",$="Task__icon-start___OASfu",ee="Task__icon-stop___U92ld",te="Task__duration____RwYS",ae=e=>{let{status:t,durationMin:a,id:r,intervalRef:s,currentTime:o,title:c}=e;const i=b(),[l,u]=(0,n.useState)(!1),[m,d]=(0,n.useState)(c),[_,f]=(0,n.useState)(!!s),E=(0,n.useRef)();const g=(0,n.useRef)(null);return Z({elementRef:g,enabled:l,onOutsideClick:function(){u(!1),i(v({id:r,value:g.current?.value.trim()||""}))}}),n.createElement("li",{className:(0,A.A)({[U]:l},{[V]:"completed"===t})},n.createElement("div",{className:K},n.createElement("input",{className:W,type:"checkbox",checked:"completed"===t,onChange:function(){i(y({id:r,status:"active"===t?"completed":"active"}))}}),n.createElement("label",{className:q},n.createElement("span",{className:z},c)),n.createElement("div",{className:G},_?n.createElement(ae.activeTimer,{currentTime:o,onStop:function(){f(!1),void 0===E.current?clearInterval(s):clearInterval(E.current),i(k({id:r,intervalRef:void 0}))}}):n.createElement(ae.disabledTimer,{status:t,setIsEdit:u,onStart:function(){f(!0),E.current=setInterval((()=>{i(p(r))}),1e3),i(k({id:r,intervalRef:E.current}))},onDestroy:function(){i(T(r))},durationMin:a,currentTime:o}))),l&&n.createElement("input",{type:"text",className:B,value:m,onChange:e=>d(e.target.value),ref:g}))};ae.disabledTimer=e=>{let{status:t,setIsEdit:a,onStart:r,onDestroy:s,durationMin:o,currentTime:c}=e;return n.createElement(n.Fragment,null,n.createElement("span",{className:te},c>0?c:60*o," sec"),"active"===t?n.createElement("button",{type:"button",className:$,onClick:r}):null,n.createElement("button",{className:(0,A.A)(J,X),onClick:()=>a((e=>!e))}),n.createElement("button",{className:(0,A.A)(J,Q),onClick:s}))},ae.activeTimer=function(e){let{currentTime:t,onStop:a}=e;return n.createElement(n.Fragment,null,n.createElement("span",{className:te},t," secs"),n.createElement("button",{onClick:a,className:ee}))};const ne=ae,re="TaskList__todo-list___oRKAk";function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},se.apply(null,arguments)}const oe=D((e=>e.options.activeFilter),(e=>e.tasks),((e,t)=>t.filter((t=>"all"===e||t.status===e)))),ce=()=>{const e=w((e=>oe(e)));return n.createElement("ul",{className:re},e.map((e=>n.createElement(ne,se({key:e.id,currentTime:e.currentDuration,title:e.content},e)))))},ie=()=>n.createElement(s.Kq,{store:N},n.createElement("section",{className:"todoapp"},n.createElement(Y,null),n.createElement("section",{className:"main"},n.createElement(ce,null),n.createElement(L,null))));(0,r.H)(document.getElementById("root")).render(n.createElement(ie,null))}},a={};function n(e){var r=a[e];if(void 0!==r)return r.exports;var s=a[e]={exports:{}};return t[e](s,s.exports,n),s.exports}n.m=t,e=[],n.O=(t,a,r,s)=>{if(!a){var o=1/0;for(u=0;u<e.length;u++){a=e[u][0],r=e[u][1],s=e[u][2];for(var c=!0,i=0;i<a.length;i++)(!1&s||o>=s)&&Object.keys(n.O).every((e=>n.O[e](a[i])))?a.splice(i--,1):(c=!1,s<o&&(o=s));if(c){e.splice(u--,1);var l=r();void 0!==l&&(t=l)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[a,r,s]},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={792:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var r,s,o=a[0],c=a[1],i=a[2],l=0;if(o.some((t=>0!==e[t]))){for(r in c)n.o(c,r)&&(n.m[r]=c[r]);if(i)var u=i(n)}for(t&&t(a);l<o.length;l++)s=o[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(u)},a=self.webpackChunk=self.webpackChunk||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),n.O(void 0,[668],(()=>n(1001)));var r=n.O(void 0,[668],(()=>n(5587)));r=n.O(r)})();