(()=>{"use strict";var e,t={5587:(e,t,a)=>{var n=a(3696),r=a(7470),o=a(5022),s=a(3530),c=a(910);const l=(0,s.Z0)({name:"options",initialState:{activeFilter:"all"},reducers:{setFilter:(e,t)=>{e.activeFilter=t.payload}}}),{setFilter:i}=l.actions,u=l.reducer,m=[{status:"active",createdAt:new Date(2024,1,1,1,1,1).getTime(),content:"Test task",currentDuration:6e4,duration:6e4},{status:"active",createdAt:new Date(2024,1,1,1,1,1).getTime(),content:"Test task",duration:6e3,currentDuration:6e3},{status:"completed",createdAt:new Date(2024,1,1,1,1,1).getTime(),content:"Test task",duration:6e5,currentDuration:0},{status:"completed",createdAt:new Date(2024,1,1,1,1,1).getTime(),content:"Test task",duration:6e5,currentDuration:0},{status:"completed",createdAt:new Date(2024,1,1,1,1,1).getTime(),content:"Test task",duration:6e5,currentDuration:0},{status:"completed",createdAt:new Date(2024,1,1,1,1,1).getTime(),content:"Test task",duration:6e5,currentDuration:0}].map((e=>({...e,id:(1e3*Math.random()).toString(36)}))),d=(0,s.Z0)({name:"tasks",initialState:m,reducers:{add:(e,t)=>[t.payload,...e],addTime:(e,t)=>e.map((e=>e.id===t.payload?{...e,currentDuration:e.currentDuration-1e3,status:0===e.currentDuration?"completed":"active"}:e)),stop:(e,t)=>e.map((e=>e.id===t.payload.id?{...e,currentDuration:t.payload.currentTime}:e)),remove:(e,t)=>e.filter((e=>e.id!==t.payload)),setIntervalRef:(e,t)=>e.map((e=>e.id===t.payload.id?{...e,intervalRef:t.payload.intervalRef}:e)),setTime:(e,t)=>e.map((e=>e.id===t.payload.id?{...e,currentDuration:t.payload.currentTime}:e)),clearCompleted:e=>e.filter((e=>"completed"!==e.status)),update:(e,t)=>e.map((e=>e.id===t.payload.id?{...e,...t.payload}:e))}}),{add:_,addTime:p,stop:f,remove:v,setIntervalRef:T,setTime:k,clearCompleted:E,update:g}=d.actions,y=d.reducer,h=(0,s.U1)({reducer:{tasks:y,options:u}}),b=o.wA.withTypes(),N=o.d4.withTypes(),D=c.Mz.withTypes();var w=a(9369);const A=["all","active","completed"].map((e=>({name:e,id:(1e3*Math.random()).toString(36)}))),C="TasksFilter__filters___A32Pc",R="TasksFilter__selected___G38II",S=()=>{const e=b(),t=N((e=>e.options.activeFilter)),[a,r]=(0,n.useState)(t);function o(t,a,n){t.target instanceof HTMLElement&&(t.target.classList.add(R),r(a),function(t){e(i(t))}(n))}return n.createElement("ul",{className:C},A.map((e=>n.createElement("li",{key:e.id},n.createElement("button",{onClick:t=>o(t,e.name,e.name),className:(0,w.A)({[R]:e.name===a})},e.name)))))},F="Footer__footer___fuYeo",O="Footer__todo-count___NYgnr",I="Footer__clear-completed___s85HR",L=()=>{const e=b(),t=N((e=>e.tasks.reduce(((e,t)=>e+("active"===t.status?1:0)),0)));return n.createElement("footer",{className:F},n.createElement("span",{className:O},t," items left"),n.createElement(S,null),n.createElement("button",{className:I,onClick:()=>e(E())},"Clear completed"))},x="NewTaskForm__header___bu0zn",M="NewTaskForm__title___BYYcu",j="NewTaskForm__new-todo___SrpAm",P="NewTaskForm__duration___Z4WnZ",H=()=>{const e=b(),[t,a]=(0,n.useState)(""),[r,o]=(0,n.useState)(0),[s,c]=(0,n.useState)(0),l=n.useRef(null),i=n.useRef(null),u=n.useRef(null);return n.createElement("header",{className:x,onKeyDown:function(n){if("Enter"===n.key&&(n.target===l.current||n.target===i.current||n.target===u.current)){const n=1e3*(60*r+s);e(_({id:(1e3*Math.random()).toString(36),createdAt:(new Date).getTime(),status:"active",content:t,duration:n,currentDuration:n})),a(""),o(0),c(0)}}},n.createElement("h1",{className:M},"todo"),n.createElement("input",{className:j,placeholder:"What needs to be done?",autoFocus:!0,onKeyDown:function(e){if(("number"==typeof r||"number"==typeof s)&&e.target instanceof HTMLInputElement){const{value:t}=e.target;if(0===t.trim().length&&(0===r||0===s))return void e.stopPropagation()}},value:t,ref:l,onChange:e=>a(e.target.value)}),n.createElement("input",{className:P,placeholder:"min",type:"number",ref:i,value:r,min:0,onChange:e=>o(Number(e.target.value))}),n.createElement("input",{className:P,placeholder:"sec",type:"number",ref:u,value:s,min:0,onChange:e=>c(Number(e.target.value))}))};var K=a(9362);function Y(e){let{elementRef:t,enabled:a=!0,triggerRef:r,onOutsideClick:o}=e;const s=function(e){const t=(0,n.useRef)(e);(0,n.useLayoutEffect)((()=>{t.current=e}),[]);const a=(0,n.useCallback)((function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.current.apply(null,a)}),[t]);return a}(o);(0,n.useEffect)((()=>{if(!a)return;const e=e=>{const{target:a}=e;if(!(e.target instanceof Node))return;if(!t.current)return;const n=[t.current];r?.current&&n.push(r.current),n.some((e=>e.contains(a)))||s(e)};return document.addEventListener("touchstart",e),document.addEventListener("mousedown",e),()=>{document.addEventListener("touchstart",e),document.addEventListener("mousedown",e)}}),[t,r,a,s])}const Z="Task__editing___mAlAU",U="Task__edit___xhduD",B="Task__view___ymlPN",W="Task__toggle___pCWte",q="Task__label___knMkC",z="Task__description___xt4kB",G="Task__completed___UILeT",J="Task__actions___tp6H5",Q="Task__icon___ImxAI",V="Task__icon-destroy___q8855",X="Task__icon-edit___e3Zgy",$="Task__icon-start___OASfu",ee="Task__icon-stop___U92ld",te="Task__duration____RwYS",ae=e=>{let{status:t,duration:a,id:r,intervalRef:o,currentTime:s,title:c}=e;const l=b(),[i,u]=(0,n.useState)(!1),[m,d]=(0,n.useState)(c),[_,f]=(0,n.useState)(!!o),k=(0,n.useRef)();function E(){l(g({id:r,status:"completed",currentDuration:s})),y()}function y(){f(!1),void 0===k.current?clearInterval(o):clearInterval(k.current),l(T({id:r,intervalRef:void 0}))}(0,n.useEffect)((()=>{0===s&&(E(),y())}),[s]);const h=(0,n.useRef)(null);return Y({elementRef:h,enabled:i,onOutsideClick:()=>u(!1)}),n.createElement("li",{className:(0,w.A)({[Z]:i},{[G]:"completed"===t})},n.createElement("div",{className:B},n.createElement("input",{className:W,type:"checkbox",checked:"completed"===t,onChange:E}),n.createElement("label",{className:q},n.createElement("span",{className:z},c)),n.createElement("div",{className:J},_?n.createElement(ae.activeTimer,{currentTime:s,onStop:y}):n.createElement(ae.disabledTimer,{status:t,setIsEdit:u,onStart:function(){f(!0),k.current=setInterval((()=>{l(p(r))}),1e3),l(T({id:r,intervalRef:k.current}))},onDestroy:function(){l(v(r))},duration:a,currentTime:s}))),i&&n.createElement("input",{type:"text",className:U,value:m,onChange:e=>d(e.target.value),onKeyDown:e=>"Enter"===e.key&&(u(!1),void l(g({id:r,content:h.current?.value.trim()||""}))),ref:h}))};ae.disabledTimer=e=>{let{status:t,setIsEdit:a,onStart:r,onDestroy:o,duration:s,currentTime:c}=e;return n.createElement(n.Fragment,null,n.createElement("span",{className:te},c>0?(0,K.AD)(c,"mm:ss"):(0,K.AD)(s,"mm:ss")),"active"===t?n.createElement("button",{type:"button",className:$,onClick:r}):null,n.createElement("button",{className:(0,w.A)(Q,X),onClick:()=>a((e=>!e))}),n.createElement("button",{className:(0,w.A)(Q,V),onClick:o}))},ae.activeTimer=function(e){let{currentTime:t,onStop:a}=e;return n.createElement(n.Fragment,null,n.createElement("span",{className:te},(0,K.AD)(t,"mm:ss")),n.createElement("button",{onClick:a,className:ee}))};const ne=ae,re="TaskList__todo-list___oRKAk";function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},oe.apply(null,arguments)}const se=D((e=>e.options.activeFilter),(e=>e.tasks),((e,t)=>t.filter((t=>"all"===e||t.status===e)))),ce=()=>{const e=N((e=>se(e)));return n.createElement("ul",{className:re},e.map((e=>n.createElement(ne,oe({key:e.id,currentTime:e.currentDuration,title:e.content},e)))))},le=()=>n.createElement(o.Kq,{store:h},n.createElement("section",{className:"todoapp"},n.createElement(H,null),n.createElement("section",{className:"main"},n.createElement(ce,null),n.createElement(L,null))));(0,r.H)(document.getElementById("root")).render(n.createElement(le,null))}},a={};function n(e){var r=a[e];if(void 0!==r)return r.exports;var o=a[e]={exports:{}};return t[e](o,o.exports,n),o.exports}n.m=t,e=[],n.O=(t,a,r,o)=>{if(!a){var s=1/0;for(u=0;u<e.length;u++){a=e[u][0],r=e[u][1],o=e[u][2];for(var c=!0,l=0;l<a.length;l++)(!1&o||s>=o)&&Object.keys(n.O).every((e=>n.O[e](a[l])))?a.splice(l--,1):(c=!1,o<s&&(s=o));if(c){e.splice(u--,1);var i=r();void 0!==i&&(t=i)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[a,r,o]},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={792:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var r,o,s=a[0],c=a[1],l=a[2],i=0;if(s.some((t=>0!==e[t]))){for(r in c)n.o(c,r)&&(n.m[r]=c[r]);if(l)var u=l(n)}for(t&&t(a);i<s.length;i++)o=s[i],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},a=self.webpackChunk=self.webpackChunk||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),n.O(void 0,[867],(()=>n(1001)));var r=n.O(void 0,[867],(()=>n(5587)));r=n.O(r)})();